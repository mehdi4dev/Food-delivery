{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"errors":{"adminPassword":{"stringValue":"\"Promise { <pending> }\"","kind":"string","value":{},"path":"adminPassword","reason":null},"description":{"name":"ValidatorError","message":"Path `description` is required.","properties":{"message":"Path `description` is required.","type":"required","path":"description"},"kind":"required","path":"description"}},"_message":"restaurant validation failed","level":"error","message":"restaurant validation failed: adminPassword: Cast to string failed for value \"Promise { <pending> }\" at path \"adminPassword\", description: Path `description` is required. restaurant validation failed: adminPassword: Cast to string failed for value \"Promise { <pending> }\" at path \"adminPassword\", description: Path `description` is required.","stack":"ValidationError: restaurant validation failed: adminPassword: Cast to string failed for value \"Promise { <pending> }\" at path \"adminPassword\", description: Path `description` is required.\n    at model.Document.invalidate (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\mongoose\\lib\\document.js:2696:32)\n    at model.$set (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\mongoose\\lib\\document.js:1309:12)\n    at model.set [as adminPassword] (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\mongoose\\lib\\helpers\\document\\compile.js:172:19)\n    at create (C:\\Users\\mehdi\\Desktop\\food delivery\\app\\http\\controller\\restaurantController.js:23:33)"}
{"message":"db connected","level":"info"}
{"errors":{"adminPassword":{"stringValue":"\"Promise { <pending> }\"","kind":"string","value":{},"path":"adminPassword","reason":null},"description":{"name":"ValidatorError","message":"Path `description` is required.","properties":{"message":"Path `description` is required.","type":"required","path":"description"},"kind":"required","path":"description"}},"_message":"restaurant validation failed","level":"error","message":"restaurant validation failed: adminPassword: Cast to string failed for value \"Promise { <pending> }\" at path \"adminPassword\", description: Path `description` is required. restaurant validation failed: adminPassword: Cast to string failed for value \"Promise { <pending> }\" at path \"adminPassword\", description: Path `description` is required.","stack":"ValidationError: restaurant validation failed: adminPassword: Cast to string failed for value \"Promise { <pending> }\" at path \"adminPassword\", description: Path `description` is required.\n    at model.Document.invalidate (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\mongoose\\lib\\document.js:2696:32)\n    at model.$set (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\mongoose\\lib\\document.js:1309:12)\n    at model.set [as adminPassword] (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\mongoose\\lib\\helpers\\document\\compile.js:172:19)\n    at create (C:\\Users\\mehdi\\Desktop\\food delivery\\app\\http\\controller\\restaurantController.js:23:33)"}
{"message":"db connected","level":"info"}
{"errors":{"description":{"name":"ValidatorError","message":"Path `description` is required.","properties":{"message":"Path `description` is required.","type":"required","path":"description"},"kind":"required","path":"description"}},"_message":"restaurant validation failed","level":"error","message":"restaurant validation failed: description: Path `description` is required. restaurant validation failed: description: Path `description` is required.","stack":"ValidationError: restaurant validation failed: description: Path `description` is required.\n    at model.Document.invalidate (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\mongoose\\lib\\document.js:2696:32)\n    at C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\mongoose\\lib\\document.js:2516:17\n    at C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\mongoose\\lib\\schematype.js:1238:9\n    at processTicksAndRejections (node:internal/process/task_queues:76:11)"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"level":"error","message":"restaurant is not defined restaurant is not defined","stack":"ReferenceError: restaurant is not defined\n    at login (C:\\Users\\mehdi\\Desktop\\food delivery\\app\\http\\controller\\restaurantController.js:53:60)\n    at processTicksAndRejections (node:internal/process/task_queues:94:5)"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"level":"error","message":"jwt is not defined jwt is not defined","stack":"ReferenceError: jwt is not defined\n    at model.schema.methods.generateAuthToken (C:\\Users\\mehdi\\Desktop\\food delivery\\app\\model\\restaurantModel.js:45:5)\n    at login (C:\\Users\\mehdi\\Desktop\\food delivery\\app\\http\\controller\\restaurantController.js:60:30)"}
{"message":"db connected","level":"info"}
{"level":"error","message":"config is not defined config is not defined","stack":"ReferenceError: config is not defined\n    at model.schema.methods.generateAuthToken (C:\\Users\\mehdi\\Desktop\\food delivery\\app\\model\\restaurantModel.js:45:27)\n    at login (C:\\Users\\mehdi\\Desktop\\food delivery\\app\\http\\controller\\restaurantController.js:60:30)"}
{"message":"db connected","level":"info"}
{"level":"error","message":"config.get is not a function config.get is not a function","stack":"TypeError: config.get is not a function\n    at model.schema.methods.generateAuthToken (C:\\Users\\mehdi\\Desktop\\food delivery\\app\\model\\restaurantModel.js:46:34)\n    at login (C:\\Users\\mehdi\\Desktop\\food delivery\\app\\http\\controller\\restaurantController.js:60:30)"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"level":"error","message":"joi is not defined joi is not defined","stack":"ReferenceError: joi is not defined\n    at foodValidator (C:\\Users\\mehdi\\Desktop\\food delivery\\app\\http\\validator\\restaurantValidator.js:34:16)\n    at addFood (C:\\Users\\mehdi\\Desktop\\food delivery\\app\\http\\controller\\restaurantController.js:65:23)\n    at newFn (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at module.exports (C:\\Users\\mehdi\\Desktop\\food delivery\\app\\http\\middleware\\Auth.js:11:5)\n    at newFn (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"message":"db connected","level":"info"}
{"level":"error","message":"Cannot destructure property 'error' of 'foodValidator(...)' as it is undefined. Cannot destructure property 'error' of 'foodValidator(...)' as it is undefined.","stack":"TypeError: Cannot destructure property 'error' of 'foodValidator(...)' as it is undefined.\n    at addFood (C:\\Users\\mehdi\\Desktop\\food delivery\\app\\http\\controller\\restaurantController.js:65:16)\n    at newFn (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at module.exports (C:\\Users\\mehdi\\Desktop\\food delivery\\app\\http\\middleware\\Auth.js:11:5)\n    at newFn (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express\\lib\\router\\index.js:47:12)"}
{"message":"db connected","level":"info"}
{"level":"error","message":"Schema is not defined Schema is not defined","stack":"ReferenceError: Schema is not defined\n    at foodValidator (C:\\Users\\mehdi\\Desktop\\food delivery\\app\\http\\validator\\restaurantValidator.js:39:3)\n    at addFood (C:\\Users\\mehdi\\Desktop\\food delivery\\app\\http\\controller\\restaurantController.js:65:23)\n    at newFn (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at module.exports (C:\\Users\\mehdi\\Desktop\\food delivery\\app\\http\\middleware\\Auth.js:11:5)\n    at newFn (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express\\lib\\router\\index.js:174:3)"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"level":"error","message":"Cannot read property 'role' of undefined Cannot read property 'role' of undefined","stack":"TypeError: Cannot read property 'role' of undefined\n    at module.exports (C:\\Users\\mehdi\\Desktop\\food delivery\\app\\http\\middleware\\restaurantAdmin.js:4:25)\n    at newFn (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at newFn (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express\\lib\\router\\index.js:284:7"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"level":"error","message":"user is not defined user is not defined","stack":"ReferenceError: user is not defined\n    at module.exports (C:\\Users\\mehdi\\Desktop\\food delivery\\app\\http\\middleware\\Auth.js:14:14)\n    at newFn (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at newFn (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express\\lib\\router\\index.js:284:7"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"level":"error","message":"Parameter \"filter\" to find() must be an object, got 601fefa9f0495f1f702239f0 Parameter \"filter\" to find() must be an object, got 601fefa9f0495f1f702239f0","stack":"ObjectParameterError: Parameter \"filter\" to find() must be an object, got 601fefa9f0495f1f702239f0\n    at model.Query.Query.find (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\mongoose\\lib\\query.js:1964:16)\n    at Function.find (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\mongoose\\lib\\model.js:2050:13)\n    at getFoodList (C:\\Users\\mehdi\\Desktop\\food delivery\\app\\http\\controller\\restaurantController.js:75:48)\n    at newFn (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at module.exports (C:\\Users\\mehdi\\Desktop\\food delivery\\app\\http\\middleware\\restaurantAdmin.js:6:5)\n    at newFn (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at module.exports (C:\\Users\\mehdi\\Desktop\\food delivery\\app\\http\\middleware\\Auth.js:12:5)\n    at newFn (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Users\\mehdi\\Desktop\\food delivery\\node_modules\\express-async-errors\\index.js:16:20)"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
{"message":"db connected","level":"info"}
